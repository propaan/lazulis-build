(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(26)},21:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(9),c=n.n(i),l=n(11),s=n(2),r=n(3),d=n(5),u=n(4),p=n(6);n(21);var v=function(e){var t=e.exportation,n=e.notes,a=e.onAddNote,i=e.activeNoteId,c=e.setActiveNote;return o.a.createElement("div",{className:"app-sidebar"},o.a.createElement("h2",null,"Notes"),o.a.createElement("div",{className:"app-sidebar-notes"},o.a.createElement("div",{className:"app-sidebar-note-add",onClick:function(){a()}},o.a.createElement("p",null,"+ Ajouter une page")),o.a.createElement("div",{className:"app-sidebar-note-add",onClick:function(){t()}},o.a.createElement("p",null,"Exporter")),n.map(function(e){return o.a.createElement("div",{id:"addNote",className:"app-sidebar-note ".concat(e.id===i&&"active"),onClick:function(){return c(e.id)}},o.a.createElement("p",null,e.title.slice(0,15)))})))},f=n(10),h=n.n(f),b=(n(24),n(1));var m=function(e){var t=e.change,n=e.val,a=e.keyed,i=e.id,c=e.autof,l=e.delet,s=e.styles,r=function(e){13===e.nativeEvent.keyCode?e.nativeEvent.shiftKey||("/page"===n?(console.log("CREEr baTARD"),e.preventDefault()):(a(i),e.preventDefault())):8===e.nativeEvent.keyCode&&""===n&&0!==i&&l(i)};return console.log(s),c?o.a.createElement("div",null,o.a.createElement(b.a,{onKeyDownCapture:function(e){r(e)},id:"bloc",value:n,onChange:t,spellCheck:!1,style:s,autoFocus:!0})):o.a.createElement("div",null,o.a.createElement(b.a,{onKeyDownCapture:function(e){r(e)},id:"bloc",style:s,value:n,onChange:t,spellCheck:!1}))},y=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).updateTitle=function(e){var t=e.target.value;t&&(n.setState({title:t}),n.props.activeNote.title=t)},n.updateNoteData=function(e){n.setState({id:e.id,title:e.title,body:e.body,contente:e.contente})},n.handleTitleChange=function(e){n.setState({title:e.target.value})},n.handleListener=function(e){var t=n.state.body[e].content;n.shortcut.shorts.map(function(a){if(console.log(a.brut+" -> "+a.replaced),t.includes(a.brut)){var o=n.state.body[e].content.replace(a.brut,a.replaced);n.state.body[e].content=o}})},n.handleBodyChange=function(e,t){var a=n.state.body;a[t].content=e.target.value,n.setState({body:a}),n.props.activeNote.body[t].content=e.target.value,n.handleListener(t)},n.handleDeleteBlock=function(e){var t=n.state.body;console.log(t);var a=t.splice(e,1);console.log(a),n.setState({body:t}),n.props.activeNote.body=t},n.handleAddBlock=function(e){var t=e+1;n.setState({ref:t}),console.log(e),console.log(n.state.body);var a=n.state.body,o={id:n.state.body.length,content:"",style:{}};a.splice(e+1,0,o),n.setState({body:a}),n.props.activeNote.body=a},n.state={id:"",title:"",ref:"",contente:"",body:[{}]},n.shortcut={shorts:[{brut:"ajd",replaced:"aujourd'hui"},{brut:"slt",replaced:"salut"},{brut:"/lorem ",replaced:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec convallis mollis molestie. Nunc volutpat et metus nec convallis. Phasellus velit felis, maximus sit amet faucibus sed, molestie et metus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Vivamus et ante sed nisl vestibulum posuere. Pellentesque urna tellus, ornare dapibus vehicula eu, dapibus id arcu. Donec venenatis eget lacus at blandit."},{brut:"/raphouel ",replaced:"On veut pas baiser les gos les plus putes, mais boire les eaux les plus pures"},{brut:"quoi",replaced:"feur"}]},n}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.updateNoteData(this.props.activeNote)}},{key:"componentDidUpdate",value:function(e){e.activeNote!==this.props.activeNote&&(this.updateNoteData(this.props.activeNote),console.log(this.props.activeNote))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"app-body"},o.a.createElement("div",{className:"app-body-title"},o.a.createElement(b.a,{id:"title",placeholder:"Title",value:this.state.title,onChange:this.handleTitleChange,onKeyUp:function(t){e.updateTitle(t),e.props.setActiveNote(e.state.id)}})),o.a.createElement("div",{className:"app-body-markdown"},this.props.activeNote.body.map(function(t,n){return console.log("LE "+e.state.ref),n===e.state.ref?(console.log(t),o.a.createElement(m,{keyed:e.handleAddBlock,id:n,onClick:"l'index est : "+console.log(n),val:t.content,change:function(t){e.handleBodyChange(t,n)},ref:e.comptRef,autof:!0,delet:e.handleDeleteBlock,styles:t.style})):(console.log(t),o.a.createElement(m,{keyed:e.handleAddBlock,id:n,val:t.content,change:function(t){e.handleBodyChange(t,n)},ref:e.comptRef,autof:!1,delet:e.handleDeleteBlock,styles:t.style}))})))}}]),t}(o.a.Component),N=n(7),g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).exportData=function(){var e="data:text/json;chatset=utf-8,".concat(encodeURIComponent(JSON.stringify(a.state.notes))),t=document.createElement("a");t.href=e,t.download="data.json",t.click()},a.updatedNote=function(e){var t=a.state.notes.find(function(t){return t.id===e.id});t&&(console.log(t.id),console.log(a.state.notes))},a.onAddNote=function(e){var t=h()(),n={id:e||t,title:"\ud83d\udcc4Nouvelle page",contente:"SALUT",body:[{id:"0",content:"/help pour d\xe9couvrir",style:{textDecoration:"none"}}]};return 0===a.state.notes.length?(n.title="\ud83c\udfd8\ufe0f Bienvenue !",n.id="0",a.setState({notes:[n],activeNoteId:n.id})):a.setState(function(e){return{notes:[n].concat(Object(l.a)(e.notes)),activeNoteId:n.id}}),n},a.setActiveNote=function(e){a.setState({activeNoteId:e})},a.getActiveNote=function(){var e=a.state.notes.find(function(e){return e.id===a.state.activeNoteId});return e||(e=a.onAddNote()),e},a.obj=n(7),a.state={notes:JSON.parse(JSON.stringify(N)),activeNoteId:"0"},a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return console.log(this.state.notes),o.a.createElement("div",{className:"App"},o.a.createElement(v,{exportation:this.exportData,notes:this.state.notes,onAddNote:this.onAddNote,activeNoteId:this.state.activeNoteId,setActiveNote:this.setActiveNote}),o.a.createElement(y,{activeNote:this.getActiveNote(),setActiveNote:this.setActiveNote}))}}]),t}(o.a.Component);c.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(g,null)))},7:function(e){e.exports=[{id:"92629bf8-4a2c-d1ab-1000-6bdcad05fb13",title:"\ud83c\udfd8\ufe0f Bienvenue !",contente:"SALUT",body:[{id:0,content:"/help",style:{backgroundColor:"#354C4B",textDecoration:"underline",fontSize:"24px"}},{id:1,content:"\xe7a va ?",style:{textAlign:"center"}}]}]}},[[12,2,1]]]);
//# sourceMappingURL=main.d66e89a1.chunk.js.map